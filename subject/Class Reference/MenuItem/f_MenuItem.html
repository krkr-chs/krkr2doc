<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
<!-- generated by to_html.pl from f_MenuItem.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>MenuItem</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="../../../css/browser.css" type="text/css" rel="stylesheet" title="吉里吉里Reference用 标准Style" />
	<link href="../../../index.html" target="_top" rel="Start" title="首页" />
    <link href="mailto:dee@kikyou.info" rev="Made" />
</head>
<body>
<h1><a name="top" id="top">MenuItem</a></h1><div class="para"><div>
　MenuItem 类，是用于对<a class="targanchor" name="id290" id="id290">菜单项（MenuItems）</a>进行管理的类。<br />
　当我们在窗口的菜单栏（Menubar）上添加菜单项的时候，这些排列在菜单栏上的菜单项，将会作为 <a class="jump" href="f_Window_menu.html">Window.menu</a> 属性的子对象来进行追加。<br /><br />
<b class="uko"><div class="note">
	<div class="notehead"><span class="noteheadspan">U子注</span></div>
	考虑到这里的原文翻译出来可能会看起来有些迷，刚接触的人有可能看不明白是怎么回事，于是在这里对吉里吉里中的“菜单栏”和“菜单项”的原理作一些详细的说明。<br />
    这个MenuItem类是专门用于对菜单项进行管理的，可以进行诸如添加、删除、改名之类的操作，这一点是没问题的。<br />
    但是，菜单项目终究还是需要显示出来的，而其中比较常见的一种情况就是：让它显示在窗口的菜单栏上。<br />
    这时候就需要跟Window类进行交互，而接口就是 Window.menu 这个属性。<br />
    Window.menu 是一个只读属性，它的本质其实是一个数组，用system.inform()方法输出它的话，会得到一个object。<br />
    就结论来讲，这个数组里面存的元素其实就是MenuItem类的对象。<br /><br />
    暂且抛开KAG系统，当我们单纯想要在一个裸窗口中创建一个菜单栏的话，可以像下面这样写。<br />
    　　var a = new Window(); a.visible = true;　　　 　//首先，创建一个裸窗口<br />
    　　a.menu.add(new MenuItem(a,"菜单项的名称"));　//然后在这个窗口上添加菜单项<br />
    这样就可以在窗口中创建出一个只有一个菜单项的菜单栏了。<br />
    这里要注意一下，这个“a.menu.add()”的add()方法，并不是指MenuItem类的add()方法。<br />
    因为这里的 a.menu 是Window类的一个对象，之前也说过，它本身是个数组，所以这里的add()是tjs2的Array类所属的方法，用来添加数组元素。<br />
    由此可见，在将MenuItem类的实例添加到 Window.menu 这个数组下之后，菜单项就会在窗口的菜单栏位置显示出来，这也就印证了刚刚提到的结论。<br /><br />
    但是，仔细观察我们会发现，这样创建出来的菜单项就只能保持这样，没法进行管理（比如添加子菜单啦、修改各种参数啦之类的）。<br />
    这时，为了让这个菜单项变成真正有意义的、可管理的部件，我们可以这样写：<br />
    　　a.menu.add(a.ItemButton1 = new MenuItem(a, "菜单按钮1"));<br />
    这样就相当于把新建出来的MenuItem的对象赋给了一个变量，这样就可以进行管理了。<br />
    经测试，这个变量是不需要用var去定义的，可以直接像这样写出来就可以用，其原理在这里不多赘述，总之可用。<br /><br />
    然后，我们如果想要添加子菜单项的话就可以这样写：<br />
    　　a.ItemButton1.add(a.subItemButton1 = new MenuItem(a, "子菜单按钮1"));<br />
    这里的add()方法就是MenuItem类的add()方法了，用来添加下拉菜单上的子菜单项。<br /><br />
    嗯，关于菜单项的原理就讲到这里，大家可以参考一下KAG系统中的Menu.tjs文件。<br />
    在这里姑且提一下，KAG的Menu.tjs里的写法是不太一样的。<br />
    像上面的例子中的“a.menu.add()”和“a.ItemButton1.add()”，在Menu.tjs里是省略了前面的“a”的。<br />
    由于那里面的函数是在kag的闭包下运行的，这样里面的变量就都属于kag下的变量，于是就省略了kag，或者用“this”来代指。<br /><br />
    这个地方对于新手来说的确有些迷，如果对于tjs中的“闭包”和“Array类（数组）”的概念还不太明白的话，可以再去参考一下tjs2参考手册中的解释。<br />
    关于“闭包”的解释是在“类（class）”页面下，关于数组的解释是在“Array 类”页面下。
        
</div></b>
</div></div>
<h1>成员</h1><div class="para"><div>
<dl>
<dt>构造函数</dt>
<dd>
<a class="jump" href="Constructor/f_MenuItem_MenuItem.html">MenuItem</a><br />
</dd>
<dt>成员方法</dt>
<dd>
<a class="jump" href="Methods/f_MenuItem_add.html">add</a> ( 子メニュー項目の追加 )<br />
<a class="jump" href="Methods/f_MenuItem_insert.html">insert</a> ( 子メニュー項目の挿入 )<br />
<a class="jump" href="Methods/f_MenuItem_popup.html">popup</a> ( メニュー項目のポップアップ表示 )<br />
<a class="jump" href="Methods/f_MenuItem_remove.html">remove</a> ( 子メニュー項目の削除 )<br />
</dd>
<dt>成员属性</dt>
<dd>
<a class="jump" href="Properties/f_MenuItem_HMENU.html">HMENU</a> ( HMENUメニュー項目ハンドル )<br />
<a class="jump" href="Properties/f_MenuItem_caption.html">caption</a> ( キャプション )<br />
<a class="jump" href="Properties/f_MenuItem_checked.html">checked</a> ( チェックマークを表示するかどうか )<br />
<a class="jump" href="Properties/f_MenuItem_children.html">children</a> ( 子メニュー項目 )<br />
<a class="jump" href="Properties/f_MenuItem_enabled.html">enabled</a> ( 選択可能かどうか )<br />
<a class="jump" href="Properties/f_MenuItem_group.html">group</a> ( グループ番号 )<br />
<a class="jump" href="Properties/f_MenuItem_index.html">index</a> ( 順番 )<br />
<a class="jump" href="Properties/f_MenuItem_parent.html">parent</a> ( 親メニュー項目 )<br />
<a class="jump" href="Properties/f_MenuItem_radio.html">radio</a> ( ラジオ項目かどうか )<br />
<a class="jump" href="Properties/f_MenuItem_root.html">root</a> ( ルートメニュー項目 )<br />
<a class="jump" href="Properties/f_MenuItem_shortcut.html">shortcut</a> ( ショートカットキー )<br />
<a class="jump" href="Properties/f_MenuItem_visible.html">visible</a> ( 可視かどうか )<br />
<a class="jump" href="Properties/f_MenuItem_window.html">window</a> ( オーナーウィンドウ )<br />
</dd>
<dt>事件</dt>
<dd>
<a class="jump" href="Events/f_MenuItem_onClick.html">onClick</a> ( メニュー項目が選択された )<br />
</dd>
</dl>
</div></div>
	<script type="text/javascript" charset="utf-8" src="../../../js/documentid.js" ></script>
	<script type="text/javascript" charset="utf-8" src="../../../js/postcontent.js" ></script>
</body>
</html>
